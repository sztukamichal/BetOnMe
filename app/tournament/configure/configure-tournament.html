<div layout-padding>
    <div style="border-style: double; background-color: rgba(255,255,255,0.2)">
        <h3 style="text-align: center">Create new tournament</h3>
        <h4 style="text-align: center">Set basic information about your tournament</h4>
        <form name="tournamentForm" class="md-block" flex-gt-sm style="padding: 40px">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Name</label>
                <input required name="tournamentName" ng-model="name">

                <div ng-messages="tournamentForm.tournamentName.$error">
                    <div ng-message="required">Name is required.</div>
                </div>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-sm>
                <label>General information</label>
                <textarea required name="description" ng-model="description" md-maxlength="500" rows="5"
                          md-select-on-focus></textarea>

                <div ng-messages="tournamentForm.description.$error">
                    <div ng-message="required">This is required.</div>
                    <div ng-message="md-maxlength">Description has to be less than 500 characters long.</div>
                </div>
            </md-input-container>
            <br>
            <div layout-gt-sm="row" layout-align="space-around" class="options">
                <div flex-gt-sm="50">
                    <h4 style="font-weight: bold">Choose type of bets</h4>
                    <div style="margin-left: 20px;">
                        <div ng-repeat="betType in betTypes">
                            <md-switch ng-model="betType.enabled" md-theme="switches" style="max-width: 150px">
                                <h5 style="font-weight: bold; ">{{betType.name}}</h5>
                                <md-tooltip md-direction="right" md-theme="tooltip">
                                    {{betType.description}}
                                </md-tooltip>
                            </md-switch>
                            <div ng-if="betType.enabled" style="margin-left: 20px;">
                                <div  layout="column" style="margin-left: 20px; margin-right: 20px;">
                                    <div ng-repeat="predict in betType.possibleValues" layout="row">
                                        <h5 style="min-width: 120px">{{predict.name}}</h5>
                                        <md-input-container class="fade" style="font-size: 16px;">
                                            <label>Possible points</label>
                                            <input ng-model="predict.possiblePoints" type="number" step="1">
                                        </md-input-container>
                                        <md-switch ng-if="predict.typeWinner !== undefined" ng-model="predict.typeWinner.enabled" md-theme="switches">Type winner
                                            <md-tooltip md-direction="right" md-theme="tooltip">
                                                Works only on knockout phase.
                                            </md-tooltip>
                                        </md-switch>
                                        <md-input-container ng-if="predict.typeWinner.enabled" class="fade" style="font-size: 16px;">
                                            <label>Extra points</label>
                                            <input ng-model="predict.typeWinner.extraPoints" type="number" step="1">
                                        </md-input-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div layout-gt-sm="column" flex-gt-sm="50">
                    <div>
                        <h4 style="font-weight: bold">General settings</h4>
                        <div style="margin-left: 20px;">
                            <md-switch ng-model="settings.private" md-theme="switches">
                                Private tournament
                            </md-switch>
                            <md-switch ng-model="settings.invitePrivilege" md-theme="switches">
                                Participants can invite other users
                            </md-switch>
                            <md-switch ng-model="settings.majorityToKick" md-theme="switches">
                                Required majority to delete participant
                            </md-switch>
                        </div>
                    </div>
                    <div>
                        <h4 style="font-weight: bold">Allow adding matches during tournament</h4>

                        <div style="margin-left: 40px;">
                            <md-radio-group ng-model="settings.addMatchPrivilege" md-theme="switches">
                                <md-radio-button value="true">Enable</md-radio-button>
                                <md-radio-button value="false"> Disable</md-radio-button>
                                <md-radio-button value="vote">Voting</md-radio-button>
                            </md-radio-group>
                        </div>
                    </div>
                    <div>
                        <h4 style="font-weight: bold">Method of counting points per bet</h4>

                        <div style="margin-left: 40px;">
                            <md-radio-group ng-model="settings.countPointsMethod" md-theme="switches">
                                <md-radio-button value="sum">Sum points</md-radio-button>
                                <md-radio-button value="best">Only best</md-radio-button>
                            </md-radio-group>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div layout=row>
                <md-input-container>
                    <h4 style="font-weight: bold">Tournament type </h4>
                    <select ng-model="template" ng-change="changeTemplate()">
                        <option value="custom">Custom</option>
                        <option value="euro2016">Euro 2016</option>
                    </select>
                </md-input-container>
                <div flex class="bubble me" style="margin-left: 40px">{{descriptions[template]}}</div>
            </div>
            <br>
            <div layout-gt-sm="row">
                <div ng-repeat="stage in tournamentTemplate.stages" flex>
                    <div class="options" style="margin: 20px; background-color: white">
                        <div layout="row">
                            <h5 style="font-weight: bold">{{stage.stageName}}</h5>
                            <md-button aria-label="Remove" class="md-icon-button" style="float: right">
                                <md-icon md-svg-icon="../assets/icons/close.svg"></md-icon>
                            </md-button>
                        </div>
                    </div>
                </div>
                <md-button aria-label="Add" flex="5" class="md-icon-button" style="margin: 20px;">
                    <md-icon md-svg-icon="../assets/icons/add-button.svg"></md-icon>
                </md-button>
            </div>
        </form>
    </div>
    <md-button md-theme="dark-orange" ng-click="continue()" class="pull-right md-raised">Continue
    </md-button>
</div>